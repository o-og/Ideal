(function(){var t,e,n,o,r,l,i,c,s;for(t=function(t){return document.getElementById(t)},o=function(e,n,o,r){var l,i;return l=new bkcore.hexgl.HexGL({document:document,width:window.innerWidth,height:window.innerHeight,container:t("main"),overlay:t("overlay"),gameover:t("step-5"),quality:n,difficulty:0,hud:1===o,controlType:e,godmode:r,track:"Cityscape"}),window.hexGL=l,i=t("progressbar"),l.load({onLoad:function(){return l.init(),t("step-3").style.display="none",t("step-4").style.display="block",l.start()},onError:function(t){},onProgress:function(t,e,n){return i.style.width=t.loaded/t.total*100+"%"}})},l=bkcore.Utils.getURLParameter,e=bkcore.Utils.isTouchDevice()?1:0,i=function(e){var n,o,r;return e[3]=null!=(r=l(e[0]))?r:e[2],n=t("s-"+e[0]),(o=function(){return n.innerHTML=e[4]+e[1][e[3]]})(),n.onclick=function(){return o(e[3]=(e[3]+1)%e[1].length)}},c=0,s=(r=[["controlType",["KEYBOARD","TOUCH","LEAP MOTION CONTROLLER","GAMEPAD"],e,e,"Controls: "],["quality",["LOW","MID","HIGH","VERY HIGH"],3,3,"Quality: "],["hud",["OFF","ON"],1,1,"HUD: "],["godmode",["OFF","ON"],0,1,"Godmode: "]]).length;c<s;c++)i(r[c]);t("step-2").onclick=function(){return t("step-2").style.display="none",t("step-3").style.display="block",o(r[0][3],r[1][3],r[2][3],r[3][3])},t("step-5").onclick=function(){return window.location.reload()},t("s-credits").onclick=function(){return t("step-1").style.display="none",t("credits").style.display="block"},t("credits").onclick=function(){return t("step-1").style.display="block",t("credits").style.display="none"},function(){var t,e;e=null,t=document.createElement("canvas");try{e=t.getContext("webgl")}catch(t){}if(null==e)try{e=t.getContext("experimental-webgl")}catch(t){}return null!=e}()?t("start").onclick=function(){return t("step-1").style.display="none",t("step-2").style.display="block",t("step-2").style.backgroundImage="url(css/help-"+r[0][3]+".png)"}:((n=t("start")).innerHTML="WebGL is not supported!",n.onclick=function(){return window.location.href="http://get.webgl.org/"})}).call(this);